<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="UTF-8" />
      <meta http-equiv="X-UA-Compatible" content="IE=edge" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <title>Car Rental</title>
      <link
         rel="stylesheet"
         href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
         integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
         crossorigin="anonymous"
      />
      <link
         href="/sb-admin-2/vendor/fontawesome-free/css/all.min.css"
         rel="stylesheet"
         type="text/css"
      />
      <link
         href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i"
         rel="stylesheet"
      />

      <!-- Custom styles for this template-->
      <link href="/sb-admin-2/css/sb-admin-2.min.css" rel="stylesheet" />
   </head>

   <body>
      <!-- Navbar -->
      <nav
         class="navbar navbar-expand navbar-light bg-white topbar mb-4 static-top shadow"
      >
         <!-- Sidebar Toggle (Topbar) -->
         <button
            id="sidebarToggleTop"
            class="btn btn-link d-md-none rounded-circle mr-3"
         >
            <i class="fa fa-bars"></i>
         </button>

         <!-- Topbar Search -->
         <form
            class="d-none d-sm-inline-block form-inline mr-auto ml-md-3 my-2 my-md-0 mw-100 navbar-search"
         >
            <div class="input-group">
               <input
                  type="text"
                  class="form-control bg-light border-0 small"
                  placeholder="Search for..."
                  aria-label="Search"
                  aria-describedby="basic-addon2"
               />
               <div class="input-group-append">
                  <button class="btn btn-primary" type="button">
                     <i class="fas fa-search fa-sm"></i>
                  </button>
               </div>
            </div>
         </form>

         <!-- Topbar Navbar -->
         <ul class="navbar-nav ml-auto">
            <!-- Nav Item - Search Dropdown (Visible Only XS) -->
            <li class="nav-item dropdown no-arrow d-sm-none">
               <a
                  class="nav-link dropdown-toggle"
                  href="#"
                  id="searchDropdown"
                  role="button"
                  data-toggle="dropdown"
                  aria-haspopup="true"
                  aria-expanded="false"
               >
                  <i class="fas fa-search fa-fw"></i>
               </a>
               <!-- Dropdown - Messages -->
               <div
                  class="dropdown-menu dropdown-menu-right p-3 shadow animated--grow-in"
                  aria-labelledby="searchDropdown"
               >
                  <form class="form-inline mr-auto w-100 navbar-search">
                     <div class="input-group">
                        <input
                           type="text"
                           class="form-control bg-light border-0 small"
                           placeholder="Search for..."
                           aria-label="Search"
                           aria-describedby="basic-addon2"
                        />
                        <div class="input-group-append">
                           <button class="btn btn-primary" type="button">
                              <i class="fas fa-search fa-sm"></i>
                           </button>
                        </div>
                     </div>
                  </form>
               </div>
            </li>

            <div class="topbar-divider d-none d-sm-block"></div>

            <!-- Nav Item - User Information -->
            <li class="nav-item dropdown no-arrow">
               <a
                  class="nav-link dropdown-toggle"
                  href="#"
                  id="userDropdown"
                  role="button"
                  data-toggle="dropdown"
                  aria-haspopup="true"
                  aria-expanded="false"
               >
                  <span class="mr-2 d-none d-lg-inline text-gray-600 small"
                     >Pramudya Reynaldi</span
                  >
                  <img
                     class="img-profile rounded-circle"
                     src="/sb-admin-2/img/undraw_posting_photo.svg"
                  />
               </a>
               <!-- Dropdown - User Information -->
               <div
                  class="dropdown-menu dropdown-menu-right shadow animated--grow-in"
                  aria-labelledby="userDropdown"
               >
                  <a class="dropdown-item" href="#">
                     <i class="fas fa-user fa-sm fa-fw mr-2 text-gray-400"></i>
                     Profile
                  </a>
                  <a class="dropdown-item" href="#">
                     <i class="fas fa-cogs fa-sm fa-fw mr-2 text-gray-400"></i>
                     Settings
                  </a>
                  <a class="dropdown-item" href="#">
                     <i class="fas fa-list fa-sm fa-fw mr-2 text-gray-400"></i>
                     Activity Log
                  </a>
                  <div class="dropdown-divider"></div>
                  <a
                     class="dropdown-item"
                     href="#"
                     data-toggle="modal"
                     data-target="#logoutModal"
                  >
                     <i
                        class="fas fa-sign-out-alt fa-sm fa-fw mr-2 text-gray-400"
                     ></i>
                     Logout
                  </a>
               </div>
            </li>
         </ul>
      </nav>

      <!-- List -->
      <div class="container py-3">
         <a href="#" class="text-dark"><b>Cars</b></a>
         <img src="asset/Vector.svg" alt="" />
         <a href="#" class="text-dark"><b>List Cars</b></a>
         <img src="asset/Vector.svg" alt="" />
         <a href="#" class="text-dark">Add New Car</a>
      </div>

      <!-- Form -->
      <div class="container">
         <div class="d-flex justify-content-between py-3">
            <h3>Add New Car</h3>
            <a href="/" class="btn btn-primary">Kembali</a>
         </div>
         <div class="border bg-white">
            <div class="m-3">
               <form>
                  <div class="row mb-3">
                     <label for="inputNama" class="col-sm-2 col-form-label"
                        >Nama*</label
                     >
                     <div class="col-sm-5">
                        <input
                           type="name"
                           class="form-control"
                           id="formNama"
                           placeholder="BMW"
                        />
                     </div>
                  </div>
                  <div class="row mb-3">
                     <label for="inputPassword3" class="col-sm-2 col-form-label"
                        >Sewa Per Hari*</label
                     >
                     <div class="col-sm-5">
                        <input
                           type="price"
                           class="form-control"
                           id="formSewa"
                           placeholder="Rp. 000.000.000"
                        />
                     </div>
                  </div>
                  <div class="row mb-3">
                     <label for="inputPassword3" class="col-sm-2 col-form-label"
                        >Ukuran*</label
                     >
                     <div class="col-sm-5">
                        <select
                           class="form-control"
                           aria-label="Default select example"
                           id="inputUkuran"
                        >
                           <option value="Small" selected>Small</option>
                           <option value="Medium">Medium</option>
                           <option value="Large">Large</option>
                        </select>
                     </div>
                  </div>
                  <div class="row mb-3">
                     <label for="inputPassword3" class="col-sm-2 col-form-label"
                        >Foto*</label
                     >
                     <div class="col-sm-5">
                        <input
                           type="text"
                           class="form-control"
                           id="formFoto"
                           placeholder="https://placeimg.com/640/480/any"
                        />
                        <input
                           type="file"
                           name="chooseFile"
                           id="chooseFile"
                           onchange="handleFoto()"
                        />
                     </div>
                  </div>
               </form>
            </div>
         </div>
         <div id="button" class="m-3">
            <a href="/">
               <button
                  type="button"
                  class="btn btn-danger btn-flat float-left mr-2"
               >
                  Cancel
               </button>
            </a>
            <button
               id="buttonInsert"
               type="submit"
               class="btn btn-info btn-flat"
               onclick="handleInsertMenu()"
            >
               Save
            </button>
         </div>
      </div>

      <script
         src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
         integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
         crossorigin="anonymous"
      ></script>
      <script
         src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js"
         integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
         crossorigin="anonymous"
      ></script>
      <script
         src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js"
         integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
         crossorigin="anonymous"
      ></script>

      <!-- CRUD -->
      <script>
         const handleInsertMenu = async () => {
            const inputNama = document.getElementById("formNama");
            const inputSewa = document.getElementById("formSewa");
            const inputSize = document.getElementById("inputUkuran");
            const inputFoto = document.getElementById("formFoto");

            const resp = await fetch("http://localhost:8000/api/v1/cars", {
               method: "POST",
               headers: {
                  "Content-Type": "application/json",
               },
               body: JSON.stringify({
                  model: formNama.value,
                  harga_sewa: formSewa.value,
                  ukuran: inputUkuran.value,
                  foto: formFoto.value,
               }),
            });
            location.reload();
         };
      </script>

      <script>
         const handleFoto = async () => {
            const inputFoto = document.getElementById("chooseFile");
            const formFoto = document.getElementById("formFoto");
            const formData = new FormData();
            formData.append("picture", inputFoto.files[0]);

            const resp = await fetch(
               "http://localhost:8000/api/v1/upload/cloudinary",
               {
                  method: "POST",
                  body: formData,
               }
            );
            const body = await resp.json();

            if (resp) formFoto.value = body.url;
         };
      </script>
   </body>
</html>
